<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="./css/style.css"/>
    <style>

        ul {
            padding: 0;
            list-style-type: none;
        }

        li {
            border: 1px solid;
            padding: 4px 0px;
            margin: 10px 0;
        }

        li.active {
            background-color: antiquewhite;
        }

        .chkbx {
            margin: 3px 5px;
        }
    </style>
</head>
<body>
<div class="main-header">
    <a href="./fill-number.html">Draw number</a>&nbsp;&nbsp;|&nbsp;&nbsp;
    <a href="./incremental-number.html">Incremental Number</a>&nbsp;&nbsp;|&nbsp;&nbsp;
    <a href="./list-filter.html">List Filter</a>&nbsp;&nbsp;|&nbsp;&nbsp;
    <a href="./selection.html">Selection</a>&nbsp;&nbsp;|&nbsp;&nbsp;
</div>
<div>
    <div id="can-holder" class="noselect">
        <p>It will display status Click when you hold mouse click or keep touched on screen, and display Released when you release mouse click
        <br/><span id="spn-status"><u>Mouse Status :- <b>Released / UnTap</b></u></span></p>
        <input type="button" value="clear" size="23" onclick="reset()" style="">
    </div>
    <div id="fill-holder" style="width: 425px;display: inline-block;margin-left: 350px;margin-top: 45px;"></div>
</div>
</body>
<script>

    const LISTS = [
        'Ex ea.spreadsheet',
        'Duis aute.docx',
        'In reprehenderit.potx',
        'Velit esse.vector',
        'Eu fugiat.vsdx',
        'Excepteur sint.xitx',
        'Non proident.ppsx',
        'Lorem ipsum.docx',
        'Amet consectetur.csv',
        'Sed do.xisx',
        'Incididunt ut.vsdx i'
    ];

    let mDown = false;
    const spnStatus = document.getElementById('spn-status');

    window.addEventListener('mousedown', function () {
        spnStatus.innerHTML = '<u>Mouse Status :- <b>Click / Tap</b></u>';
        mDown = true;
    });

    window.addEventListener('touchstart', function (e) {
        // e.preventDefault();
        spnStatus.innerHTML = '<u>Mouse Status :- <b>Click / Tap</b></u>';
        mDown = true;
    });

    window.addEventListener('mouseup', function () {
        spnStatus.innerHTML = '<u>Mouse Status :- <b>Release / UnTap</b></u>';
        mDown = false;
    });

    window.addEventListener('touchend', function (e) {
        // e.preventDefault();
        spnStatus.innerHTML = '<u>Mouse Status :- <b>Release / UnTap</b></u>';
        mDown = false;
    });

    window.addEventListener('touchmove', (e) => {
        e.preventDefault();
        const xPos = e.touches[0].pageX;
        const yPos = e.touches[0].pageY;
        const ele = document.elementFromPoint(xPos, yPos);
        if (ele.tagName === 'LI') {
            changeMe(ele)
        }
    }, { passive: false });

    const fillDiv = document.getElementById('fill-holder');

    fill();

    function reset() {
        fill();
    }

    function changeMe(ele) {
        if (mDown) {
            const chk = ele.querySelector('input');
            chk.checked = true;
            ele.classList.add('active');
        }
    }

    function fill() {
        let html = '<ul>';
        html += LISTS.map((item, inx) => {
            return `<li class="noselect" id="li-${inx}" onmouseover="changeMe(this)"><input class="chkbx" type="checkbox">${item}</li>`
        }).join('');
        html += '</ul>'
        fillDiv.innerHTML = html;
    }
</script>
</html>